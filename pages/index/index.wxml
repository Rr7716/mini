<view class="course_container">
  <view class="course_top"></view>
  <view class="course_main">
    <view class="header">
      <view class="block" wx:for-index='col_num' wx:for-item='each' wx:if="{{col_num!=lastColIndex}}" wx:for="{{headers}}">
        {{each}}
      </view>
      <!-- 最后一列单独显示 -->
      <view class="block last_col">
        {{headers[lastColIndex]}}
      </view>
    </view>
    <view class="header" wx:for-index='row_num' wx:for-item='one_row' wx:for="{{courseTable}}" wx:if="{{row_num!=lastRowIndex}}">
      <!-- 第一列 -->
      <view class="block">
        <view class="course_content">
          {{courseTable[row_num][0]}}
        </view>
      </view>
      <view class="block" wx:for-index='col_num' wx:for-item='each' wx:for="{{one_row}}" wx:if="{{col_num!=lastColIndex && col_num!=0}}">
        <view class="course_content {{selected.row === row_num && selected.col === col_num ? 'active' : ''}}" bindtap="selectCell" data-row="{{row_num}}" data-col="{{col_num}}">
          {{each.content}}
        </view>
      </view>
      <!-- 最后一列单独显示 -->
      <view class="block last_col {{selected.row === row_num && selected.col === lastColIndex ? 'active' : ''}}" bindtap="selectCell" data-row="{{row_num}}" data-col="{{lastColIndex}}">
        {{one_row[lastColIndex].content}}
      </view>
    </view>
    <!-- 最后一行单独显示 -->
    <view class="header lastRow">
      <view class="block">
        <view class="course_content">
          {{courseTable[lastRowIndex][0]}}
        </view>
      </view>
      <view class="block" wx:for-index='col_num' wx:for-item='each' wx:for="{{courseTable[lastRowIndex]}}" wx:if="{{col_num!=lastColIndex && col_num!=0}}">
        <view class="course_content {{selected.row === lastRowIndex && selected.col === col_num ? 'active' : ''}}" bindtap="selectCell" data-row="{{lastRowIndex}}" data-col="{{col_num}}">
          {{each.content}}
        </view>
      </view>
      <!-- 最后一列单独显示 -->
      <view class="block last_col {{selected.row === lastRowIndex && selected.col === lastColIndex ? 'active' : ''}}" bindtap="selectCell" data-row="{{lastRowIndex}}" data-col="{{lastColIndex}}">
        {{courseTable[lastRowIndex][lastColIndex].content}}
      </view>
    </view>
  </view>
  <view class="course_footer" wx:if="{{footerActive}}">
    <view>
      <view>当日课时：{{selectedWeekday.sumHours}}</view>
      <view>当日课时费：{{selectedWeekday.sumPrice}}</view>
    </view>
    <view>人数：{{selectedCourse.students.length}}</view>
    <view>学生：{{selectedCourse.studentNames}}</view>
    <view>课时费(每小时)：{{selectedCourse.per_hour_cost}}</view>
    <view>课时费(单价)：{{selectedCourse.price}}</view>
    <view>课时费(总价)：{{selectedCourse.totalCost}}</view>
    <view>课时剩余：{{selectedCourse.course_left}}</view>
  </view>
</view>